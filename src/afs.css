/*
 * Ant Farm Social
 * afs.css (Main styles)
 *
 * This file contains:
 * - **Core layout & visuals**: Styles defining the main structure and appearance of elements.
 * - **Animation & effects**: Keyframe animations and transitions used for movement and visual effects.
 * - **Theming variables**: Custom properties (CSS variables) for colours, sizes, and reusable values.
 *
 */


/* Basic element styles */

a {
  color: #356AA0;
  font-size: .92em;
  margin-top: 1em;
  display: block;
  cursor: pointer;
  &:hover {
    color: #3a81c9;
  }
}

button {
  background: #64bc41;
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1.1em;
  text-shadow: 2px 2px 1px rgba(0, 0, 0, .2);
  &:not([disabled]):hover {
    background: #509634;
  }
  &.confirm {
    background: #fdefb2;
  }
  &.confirm:not([disabled]):hover {
    background: #ffe985;
  }
  &[disabled] {
    opacity: .4;
    cursor: default;
  }
}

p {
  margin: 0;
  padding: 0;
}









/* Common classes */

.err {
  color: #ff4f4f;
}

.warn {
  color: #bbb829;
  font-weight: bold;
}

.bigger {
  font-size: larger;
}









/* App container styles */

#afs {
  height: 100vh;
  width: 100%;
  margin: 0;
  background: rgb(26, 142, 207);
  background: linear-gradient(180deg, rgba(26, 142, 207, 1) 0%, rgba(197, 229, 233, 1) 50%, rgba(115, 205, 79, 1) 100%);
  min-width: 1180px; /* leaves enough space for bonus msg and tube arrows down the side */
  font-family: Optima, Candara, source-sans-pro, sans-serif;
  overflow-x: hidden;
  overflow-y: hidden;
  user-select: none;
  background-size: cover;
  &.gr0 { /* default */
    background: linear-gradient(180deg, rgba(26, 142, 207, 1) 0%, rgba(197, 229, 233, 1) 50%, rgba(115, 205, 79, 1) 100%);
  }
  &.gr1 { /* white */
    background: linear-gradient(180deg, rgb(167, 167, 167) 0%, rgba(246, 250, 251, 1) 50%, rgba(214, 223, 222, 1) 100%);
  }
  &.gr2 { /* teal */
    background: linear-gradient(180deg, rgba(39, 157, 197, 1) 0%, rgba(250, 238, 162, 1) 50%, rgba(18, 85, 102, 1) 100%);
  }
  &.gr3 { /* night sea */
    background: linear-gradient(180deg, rgba(57, 52, 142, 1) 0%, rgba(130, 242, 255, 1) 50%, rgba(15, 76, 191, 1) 100%);
  }
  &.gr4 { /* sunset */
    background: linear-gradient(180deg, rgba(240, 106, 17, 1) 0%, rgba(247, 193, 59, 1) 50%, rgba(50, 23, 4, 1) 100%);
  }
  &.gr5 { /* pink */
    background: linear-gradient(180deg, rgb(221, 165, 187) 0%, rgba(255, 242, 226, 1) 50%, rgba(188, 76, 114, 1) 100%);
  }
  &.gr6 { /* afternoon */
    background: linear-gradient(180deg, rgb(218, 157, 37) 0%, rgb(199, 114, 39) 50%, rgba(68, 5, 0, 1) 100%);
  }
  &.gr7 { /* purple */
    background: linear-gradient(180deg, rgba(182, 111, 253, 1) 0%, rgba(175, 149, 238, 1) 50%, rgba(93, 63, 193, 1) 100%);
  }
  &.bg::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    filter: blur(2px);
    overflow: hidden;
    background: linear-gradient(180deg,rgba(0,0,20,.25) 10%, rgba(0,0,0,.05) 25%, rgba(0,0,0,.2) 90%);
  }
}

#game {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width: 100%;
  transition: filter 5s;
  filter: blur(0) saturate(100%) hue-rotate(0);
  position: relative;
  z-index: 1;
}

.farm {
  width: 1060px;
  height: 740px;
  min-width: 960px;
  position: relative;
}









/* FX styles */

@keyframes flashit {
	from { opacity: 0 }
  60% { opacity: 0 }
	70% { opacity: .6 }
  75% { opacity: .2 }
  80% { opacity: 1 }
	to { opacity: 0 }
}

@keyframes fog {
	10% { opacity: .6; background-position: 0 -10% }
	50% { opacity: .8; background-position: 0 -50% }
	90% { opacity: .6; background-position: 0 -90% }
	to { opacity: 0; background-position: 0 -100% }
}

#fx {
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s;

  &.fog {
    opacity: 1;
    transition: opacity 4s;
    &.fog2 {
      opacity: 0;
      transition: opacity 4s;
    }
  }

  &.flashit {
    opacity: 1;
    transition: opacity 0;
  }

  &.fog::before,
  &.fog::after,
  &.flashit::before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }

  &.flashit::before {
    background: #fff;
    animation: flashit ease-out .6s infinite .4s;
  }

  &.fog::before {
    background: url(../img/fog1.png);
    background-repeat: repeat;
    animation: fog linear 18s infinite;
  }
  &.fog::after {
    background: url(../img/fog2.png);
    background-repeat: repeat;
    animation: fog linear 12s infinite;
  }
}









/* Superspeed styles */

@keyframes warp {
  0% { filter: blur(0) }
  50% { filter: blur(10px) }
  100% { filter: blur(0) }
}

#ss {
  width: 100%;
  height: 100%;
  opacity: 0;
  position: absolute;
  top: 0;
  pointer-events: none;
  background: url(../img/warp.gif) no-repeat 50% 50%;
  background-size: cover;
  transition: opacity .5s;
  mix-blend-mode: screen;
  filter: blur(5px);
  &.vis {
    opacity: .6;
  }
}

#game.ss {
  animation: warp .5s forwards;
}









/* Ant Bite styles */

@keyframes throb {
  0% { background-color: rgba(155, 0, 0, .4) }
  50% { background-color: rgba(155, 0, 0, .6) }
  100% { background-color: rgba(155, 0, 0, .4) }
}

#throb {
  pointer-events: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(155, 0, 0, .3);
  opacity: 0;
  transition: opacity 1s;
  animation: throb 4s infinite;
  z-index: 200;
  &.vis {
    opacity: 1;
    transition: opacity 2s;
  }
}

@keyframes bit {
  0% { filter: blur(4px) saturate(80%) hue-rotate(-25deg) }
  20% { filter: blur(2px) saturate(20%) hue-rotate(25deg) }
  40% { filter: blur(1px) saturate(50%) hue-rotate(50deg) }
  100% { filter: blur(4px) saturate(80%) hue-rotate(-25deg) }
}

body.throb #game {
  animation: bit 5s infinite linear;
  transition: filter 5s;
}









/* Top area and menu styles */

@keyframes flashIn {
  0% { box-shadow: 0 0 0 rgba(255, 255, 255, 0) }
  50% { box-shadow: 0 0 48px 8px rgba(255, 255, 255, .8) }
  100% { box-shadow: 0 0 0 rgba(255, 255, 255, 0) }
}

#bar {
  position: absolute;
  top: 0;
  left: 0;
  font-size: 1.667em;
  right: 0;
  z-index: 1;
}

#menu {
  width: 1060px;
  margin: 0 auto;
  position: relative;
  > a {
    margin-top: .2em;
    padding: .25em;
    padding-left: 0;
    display: inline-block;
    opacity: 0;
    &.vis {
      opacity: 1;
      transform: scale(100%, 100%);
      pointer-events: all;
    }
    > span {
      display: block;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(255,255,255,.2);
      transition: all .2s;
      text-align: center;
      line-height: 42px;
    }
  }
  > a,
  > button {
    box-shadow: 0 0 0 rgba(255, 255, 255, 0);
    opacity: 0;
    transition: opacity .5s ease 3s, transform .5s ease 2.7s, background-color .2s;
    pointer-events: none;
  }
  > button.vis,
  > a.vis > span {
    box-shadow: 0 0 12px 4px rgba(255, 255, 255, .8);
    animation: .8s flashIn ease 3s forwards;
    animation-iteration-count: 3;
    opacity: 1;
    pointer-events: all;
  }
  > button.bon {
    animation: .8s flashIn ease forwards;
    animation-iteration-count: 3;
  }
  img {
    width: 38px;
    height: 38px;
    margin: 4px;
    pointer-events: none;
  }
  #a-tg img {
    width: 32px;
    height: 32px;
    margin: 8px;
  }
}

#score {
  font-family: Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", sans-serif;
  position: absolute;
  top: 0;
  right: 0;
  background: rgba(255,255,255,.2);
  margin: .5em;
  margin-top: .42em;
  border-radius: 8px;
  margin-right: 0;
  letter-spacing: .5px;
  text-shadow: 0 0 2px rgba(0, 0, 0, .4);
  color: rgb(115, 205, 79);
  cursor: pointer;
  opacity: 0;
  transform: scale(0%, 0%);
  transition: opacity 0 ease 0, transform 0 ease 0;
  padding: 0;
  font-size: 1em;
  &.vis {
    opacity: 1;
    transform: scale(100%, 100%);
    transition: opacity .5s ease, transform .5s ease 3s;
  }
  span {
    padding: 0 .25em;
    font-size: 1.3em;
    display: inline-block;
    height: 48px;
    line-height: 1.35em;
    pointer-events: none;
    .win {
      font-size: .8em;
      padding: 0;
      position: relative;
      top: -.1em
    }
  }
  &[data-neg=true] span {
    color: #d14235;
  }
}

#afs.bg {
  #menu > a > span,
  #score {
    background: rgba(255, 255, 255, .3);
  }
}

#afs.bg #score.vis:hover,
#score.vis:hover,
#afs.bg #menu > a:hover > span,
#menu > a:hover > span {
  background: rgba(255, 255, 255, .4);
}

@keyframes bon {
  0% { top: 5em; opacity: 0 }
  10% { top: 1em; opacity: 1 }
  90% { top: 1em; opacity: 1 }
  100% { top: -4em; opacity: 0 }
}

#bonus {
  color: #f4ff5b;
  position: absolute;
  right: 0;
  margin-right: -60px;
  font-size: .62em;
  line-height: 1em;
  top: 1em;
  width: 50px;
  opacity: 0;
  text-align: center;
  &.vis {
    animation: bon 4.5s forwards;
  }
}









/* Message styles */

#msg-log {
  position: absolute;
  top: 0;
  left: 50%;
  width: 100px;
  margin-left: -50px;
  text-align: center;
  font-size: .8em;
  color: white;
  background: rgba(255, 255, 255, .2);
  box-shadow: 0 0 0 rgba(255, 255, 255, 0);
  text-shadow: 2px 2px 1px rgba(0, 0, 0, .2);
  letter-spacing: .25px;
  opacity: 0;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  cursor: pointer;
  z-index: 5;
  transition: opacity .3s;
  &:hover {
    opacity: 1;
  }
}

#messages {
  position: absolute;
  top: 1em;
  width: 800px;
  left: 50%;
  margin-left: -400px;
  height: 220px;
  right: 0;
  text-align: center;
  font-size: 1.2em;
  color: white;
  text-shadow: 2px 2px 1px rgba(0, 0, 0, .2);
  letter-spacing: .25px;
  .replay {
    font-size: .8em;
    background: rgba(0, 0, 0, .1);
  }
}

#afs.bg #messages {
  text-shadow: 2px 2px 1px rgba(0, 0, 0, .3);
}

.message {
  position: relative;
  top: 2em;
  opacity: 0;
  transition: .3s all;
  &.vis {
    top: 0;
    opacity: 1;
  }
  &.rm {
    top: -2em;
    opacity: 0;
  }
}









/* Ant Farm frame styles */

.frame, .plate {
  position: absolute;
}

#base, #wrapper {
  .plate,
  .frame {
    background: currentColor;
  }
}

[data-col=red] {
  color: #d83030;
}

[data-col=green] {
  color: #64bc41;
}

[data-col=blue] {
  color: #3fa1ec;
}

[data-col=yellow] {
  color: #ffca46;
}

[data-col=pink] {
  color: #FF69B4;
}

[data-col=orange] {
  color: #fb8500;
}

[data-col=white] {
  color: #efefef;
}

[data-col=black] {
  color: #333333;
}

[data-col=orchid] {
  color: #9932CC;
}

[data-col=silver] {
  color: #dcdddf;
}

[data-col=gold] {
  color: #e6b510;
}

#lid {
  border-bottom: 2px solid rgba(0, 0, 0, .07);
  position: absolute;
  width: 50%;
  height: 40px;
  top: -25px;
  left: 25%;
  right: 25%;
  z-index: 20;
  transition: top 1s;
  &.off {
    top: -350px;
  }
}

.nip {
  width: 20px;
  height: 30px;
  position: absolute;
  z-index: 5;
}

.nipcap {
  width: 26px;
  height: 36px;
  position: relative;
  z-index: 6;
  top: -3px;
  border-radius: 6px;
  &::before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, .04) 55%, rgba(0, 0, 0, .08) 95%, rgba(255, 255, 255, 0) 100%);
    border-radius: 6px;
  }
}

#nip-tl {
  top: 178px;
  left: -20px;
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
  .nipcap {
    left: -12px;
    border-right: 1px solid rgba(0, 0, 0, .07);
  }
}

#nip-tr {
  top: 178px;
  left: 1060px;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
  .nipcap {
    left: 4px;
    border-left: 1px solid rgba(0, 0, 0, .07);
  }
}

#nip-bl {
  top: 532px;
  left: -20px;
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
  .nipcap {
    left: -12px;
    border-right: 1px solid rgba(0, 0, 0, .07);
  }
}

#nip-br {
  top: 532px;
  left: 1060px;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
  .nipcap {
    left: 4px;
    border-left: 1px solid rgba(0, 0, 0, .07);
  }
}

.hole {
  width: 120px;
  height: 10px;
  top: -10px;
  left: 50%;
  margin-left: -60px;
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
  &::before {
    content: "";
    display: block;
    height: 4px;
    bottom: 0;
    position: absolute;
    left: 1px;
    right: 1px;
    background: rgba(0, 0, 0, .05);
  }
}

@keyframes pulse {
  0% { opacity: .4 }
  50% { opacity: .3 }
  100% { opacity: .4 }
}

.glow {
  position: absolute;
  top: 0;
  left: 50%;
  margin-left: -90px;
  margin-top: -215px;
  background: linear-gradient(-45deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 50%);
  width: 180px;
  height: 180px;
  transform: rotate(45deg);
  filter: blur(10px);
  opacity: 0;
  transition: .5s all;
}

.pik .glow {
  opacity: .3;
  animation: pulse 1.2s infinite .5s;
  transition: .3s opacity;
}

.frame-t,
.frame-l,
.frame-r {
  position: absolute;
  width: 50px;
  height: 100%;
  &::before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    border-radius: inherit;
  }
}

.frame-t {
  width: 100%;
  border-radius: 20px 20px 0 0;
  &::before {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, .07) 33%, rgba(0, 0, 0, .1) 66%, rgba(255, 255, 255, 0) 100%);
  }
}

.frame-l {
  left: 0;
  border-radius: 20px 0 0 20px;
  &::before {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, .07) 33%, rgba(0, 0, 0, .1) 66%, rgba(255, 255, 255, 0) 100%);
  }
}

.frame-r {
  right: 0;
  border-radius: 0 20px 20px 0;
  &::before {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, .1) 33%, rgba(0, 0, 0, .07) 66%, rgba(255, 255, 255, 0) 100%);
  }
}

:root {
  --gr1: linear-gradient(0deg, rgba(0, 0, 0, .05) 0%, rgba(255, 255, 255, 0) 100%);
}

.frame-b {
  height: 20px;
  left: 50px;
  right: 50px;
  bottom: 0;
  &::before {
    content: "";
    display: block;
    background: var(--gr1);
    height: 100%;
  }
}

#base {
  position: relative;
  display: inline-block;
  height: 90px;
  position: absolute;
  top: 100%;
  left: 50px;
  right: 50px;
  bottom: 20px;
  background: var(--gr1);
}

#sign {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding-bottom: 20px;
}

#n {
  color: #64bc41;
  font-family: Seravek, 'Gill Sans Nova', Ubuntu, Calibri, 'DejaVu Sans', source-sans-pro, sans-serif;
  font-size: 5em;
  text-transform: uppercase;
  letter-spacing: 4px;
  text-shadow: -2px -2px 4px rgba(255, 255, 255, .25), 2px 2px 4px rgba(0, 0, 0, .25);
  font-weight: normal;
  max-height: 100px;
  overflow: hidden;
  text-align: center;
}

.sign-l {
  width: 20px;
  height: 100%;
  top: 0;
  left: -10px;
  transform: skew(-10deg);
  border-bottom-left-radius: 12px;
  z-index: -1;
}

.sign-r {
  width: 20px;
  height: 100%;
  top: 0;
  right: -10px;
  transform: skew(10deg);
  border-bottom-right-radius: 12px;
  z-index: -1;
}

.trim {
  width: 100%;
  height: 20px;
  bottom: -20px;
  padding-left: 20px;
  padding-right: 20px;
  border-radius: 10px;
  left: -20px;
}

.trim-inner {
  height: 100%;
  width: 100%;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255, 255, 255, .2) 0%, rgba(255, 255, 255, .05) 33%, rgba(0, 0, 0, .07) 75%, rgba(0, 0, 0, .2) 100%);
  position: absolute;
  top: 0;
  left: 0;
  right: 20px;
  bottom: 0;
}

#glass {
  background: rgba(212, 235, 252, .02);
  box-shadow: inset 3px 0 2px 1px rgba(0, 0, 0, .12);
  backdrop-filter: blur(.3px);
  -webkit-backdrop-filter: blur(.3px);
}

#frost {
  background: #fff;
  opacity: .03;
  backdrop-filter: blur(1px);
  -webkit-backdrop-filter: blur(1x);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 720px;
}

.ahole-set {
  position: absolute;
  top: 10px;
  left: 20px;
  &:last-child {
    right: 20px;
    left: auto;
  }
}

.ahole {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  border: .5px solid rgba(0, 0, 0, .02);
  box-shadow: inset 1px 0 1px .5px rgba(0, 0, 0, .12);
  background: rgba(69, 22, 3, .02);
  display: inline-block;
  margin: 0 3px;

}

#farm,
#glass {
  position: absolute;
  top: 0;
  left: 50px;
  right: 50px;
  bottom: 20px;
}

#farm {
  top: -300px;
}

@keyframes shake {
  0% { transform: translateX(0) }
  25% { transform: translateX(-.5px) rotate(-.25deg) }
  50% { transform: translateX(.5px) rotate(.25deg) }
  75% { transform: translateX(-.5px) rotate(-.25deg) }
  100% { transform: translateX(0) }
}

.shake {
  animation-name: shake;
  animation-duration: 250ms;
  animation-timing-function: ease-in-out;
}

#loupe {
  position: absolute;
  z-index: 25;
  transform-origin: 38px 38px;
  transform: translate(60px, 20px) rotate(-15deg);
  display: none;
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
  &:active {
    cursor: grabbing !important; /* these cursors won't work consistently in chrome!!! */
    cursor: -moz-grabbing !important;
    cursor: -webkit-grabbing !important;
  }
}

body.glass #loupe {
  display: block;
}

#lg {
  width: 60px;
  height: 60px;
  border: 8px solid #1ca6d1;
  border-radius: 50%;
  box-shadow: 2px 2px 0 0 #047ea5;
  z-index: 10;
  background: rgba(198, 221, 234, .05);
  &:before {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    outline: 1px solid #92bad0;
    box-shadow: inset 1px 1px 4px 2px rgba(0, 0, 0, .12);
  }
}

#lh {
  width: 8px;
  position: absolute;
  left: 34px;
  top: 77px;
  background: linear-gradient(90deg, rgba(180, 183, 186, 1) 20%, rgba(169, 172, 175, 1) 51%, rgba(180, 183, 186, 1) 80%);
  height: 8px;
  &::before  {
    content: '';
    display: block;
    width: 14px;
    height: 44px;
    top: 8px;
    background: #0b497e;
    position: relative;
    left: -3px;
    border-radius: 3px;
  }
}









/* Farm interior styles */

.above {
  height: 210px;
  position: absolute;
  bottom: 50%;
  left: 0;
  right: 0;
  overflow: hidden;
}

#farm .hill { /* must have #farm selector because .hill styles are usurped for another purpose */
  position: absolute;
  transform: translateY(62%);
  bottom: 0;
  border-radius: 50%;
  transition: height 3s;
  max-height: 50px;
}

.hill .specks {
  border-radius: 50%;
}

.fill {
  height: 50%;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
}

.specks,
.specks:after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-position: 0;
}

.hill .specks,
.hill .specks:after {
  background-position: 100%;
}

#tunnels {
  overflow: hidden;
  opacity: .67;
  > div {
    filter: blur(2px);
  }
}

:root {
  --speckle: repeating-conic-gradient(#0003 .000001%, #fff0 .00005%, #fff0 .00035%, #fff0 .00005%), repeating-conic-gradient(#fff2 .00002%, #fff0 .00008%, #fff0 .0008%, #fff0 .00008%);
}

[data-fill=sand] {
  .hill,
  #fill {
    background: #f5e597;
  }
  .specks,
  .specks:after {
    background: var(--speckle);
    opacity: .75;
    filter: blur(1px);
  }
  .specks:after {
    transform: rotate(180deg) scale(100);
    filter: none;
    height: 100%;
  }
  #tunnels {
    filter: drop-shadow(0 1px 1px #9e9568);
    .wip::before,
    .prog {
      background: #dbd099;
    }
  }
}

[data-fill=dirt] {
  .hill,
  #fill {
    background: #65351b;
  }
  .specks,
  .specks:after {
    background: var(--speckle);
    opacity: .95;
    filter: blur(1px);
  }
  .specks:after {
    transform: rotate(180deg) scale(300);
    filter: none;
    height: 100%;
  }
  #tunnels {
    filter: drop-shadow(0 1px 1px #361b0c);
    .wip::before,
    .prog {
      background: #512913;
    }
  }
}

[data-fill=gel] {
  .hill,
  #fill {
    background: #67dffd;
    opacity: .4;
  }
  .specks {
    background-image: url(../img/drops.jpg);
    mix-blend-mode: screen;
    opacity: .4;
  }
  #tunnels {
    opacity: .3;
    filter: drop-shadow(0 1px 1px #007bc2);
    .wip::before,
    .prog {
      background: #23afda;
    }
  }
}

@keyframes ooze {
  0% { box-shadow: 0 0 60px 5px rgba(27,233,24,.33) }
  50% { box-shadow: 0 0 50px 2px rgba(27,233,24,.4) }
  100% { box-shadow: 0 0 60px 5px rgba(27,233,24,.33) }
}

[data-fill=ooze] {
  .hill,
  #fill {
    background: #1ae918;
    opacity: .9;
    box-shadow: 0 0 60px 5px rgba(27,233,24,.33);
    animation: ooze 2s infinite;
  }
  .specks {
    background-image: url(../img/ripple.jpg);
    mix-blend-mode: screen;
    opacity: .8;
  }
  #tunnels {
    opacity: .3;
    filter: drop-shadow(0 1px 1px #084907);
    .wip::before,
    .prog {
      background: #159613;
    }
  }
}

[data-fill=lube] {
  .hill,
  #fill {
    background: #dbbc86;
    opacity: .4;
  }
  .specks:before {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: .9;
    background-image: url(../img/ink.jpg);
    mix-blend-mode: screen;
  }
  #tunnels {
    opacity: .4;
    filter: drop-shadow(0 1px 1px #c0bcad);
    .wip::before,
    .prog {
      background: #c9d5d5;
    }
  }
}

[data-fill=beer] {
  .hill,
  #fill {
    background: #d68301;
    opacity: .67;
  }
  #tunnels {
    opacity: .6;
    filter: drop-shadow(0 1px 1px #fff);
    .wip::before,
    .prog {
      background: #fbbc58;
    }
  }
}

[data-fill=slime] {
  .hill,
  #fill {
    background: #6f35b0;
    opacity: .9;
  }
  .specks {
    background-image: url(../img/glit.jpg);
    opacity: .2;
    mix-blend-mode: screen;
    &:before {
      content: "";
      position: absolute;
      width: 200%;
      height: 200%;
      transform: rotate(180deg) scale(.5);
      opacity: .6;
      top: -50%;
      left: -50%;
      background-image: url(../img/glit.jpg);
      mix-blend-mode: screen;
    }
  }
  #tunnels {
    opacity: .6;
    filter: drop-shadow(0 1px 1px #b07cff);
    .wip::before,
    .prog {
      background: #904ff2;
    }
  }
}

[data-fill=product] {
  .hill,
  #fill {
    background: #ec11b9;
    opacity: .67;
  }
  #tunnels {
    opacity: .3;
    filter: drop-shadow(0 1px 1px #a80374);
    .wip::before,
    .prog {
      background: #fbd1ee;
    }
  }
}

[data-fill=product] .specks,
[data-fill=lube] .specks,
[data-fill=beer] .specks {
  background-image: url(../img/drops.jpg);
  opacity: .3;
  mix-blend-mode: screen;
}

.ent,
.con {
  position: absolute;
  top: 0;
  z-index: 2;
  transform-origin: center;
  overflow: hidden;
}

.cav,
.tun {
  position: absolute;
  transform-origin: left center;
  z-index: 3;
  overflow: hidden;
}

.cav .round {
  position: relative;
  border-radius: 50%;

  /*width: 100%;
  height: 120%;
  top: -15%;*/
  visibility: hidden; /* @todo deal with this later */
}

.tun .prog {
  height: 14px;
  border-radius: 7px;
  width: 0%;
}

.ent .prog {
  width: 100%;
  height: 100%;
  position: relative;
  left: 0;
  top: -7.5px;
}

.cav .prog {
  height: 100%;
  border-radius: 7px;
  position: relative;
}

.wip::before {
  content: "";
  display: block;
  position: relative;
  left: 90%;
  border-radius: 9px;
  width: 20px;
  height: 80%;
  top: 10%;
  margin-left: -10px;
  transform-origin: center;
  filter: blur(4px);
}









/* Scenery/item styles */

#card {
  width: 100%;
  height: 210px;
  margin-bottom: -2px;
  transition: bottom 1s;
  position: absolute;
  bottom: 50%;
}

@keyframes pulsate {
  from { opacity: .33 }
  50% { opacity: .25 }
  to { opacity: .33 }
}

#scenery {
  svg {
    height: 100%;
    &.temp {
      opacity: .33;
      filter: saturate(3);
      animation: pulsate 2s infinite;
    }
  }
}









/* Ant body styles */

@keyframes rot {
  0% { transform: rotate(var(--r1)) }
  50% { transform: rotate(var(--r2)) }
  100% { transform: rotate(var(--r1)) }
}

.ant { /* m radius = 10 and 4 */
  position: absolute;
  display: none;
  height: 20px;
  width: 8px;
  margin-top: -10px;
  margin-left: -4px;
  transform-origin: center;
  pointer-events: none;
  transform: rotate(0deg);
  &.s { /* s radius = 6 and 3 */
    height: 12px;
    width: 6px;
    margin-top: -6px;
    margin-left: -3px;
  }
  &.l { /* l radius = 12 and 6 */
    height: 24px;
    width: 12px;
    margin-top: -12px;
    margin-left: -6px;
  }
  &.free {
    z-index: 30;
    pointer-events: initial;
    cursor: move;
    cursor: grab;
    cursor: -moz-grab;
    cursor: -webkit-grab;
    &:hover .spot {
      opacity: .2;
    }
    &.fall {
      z-index: 10;
      pointer-events: none;
    }
  }
  &.free:active,
  &.pick {
    cursor: grabbing !important; /* these cursors won't work consistently in chrome!!! */
    cursor: -moz-grabbing !important;
    cursor: -webkit-grabbing !important;
  }
  &.pick:hover .spot {
    opacity: 0;
  }
  &.mag {
    outline: 1px solid white;
  }
  .body-wrap {
    transition: margin-top 2s;
  }
  &.N,
  &.T,
  &.B,
  &.G {
    display: block;
  }
  &.B {
    .torso,
    .head,
    .leg {
      background-color: #5e4e39;
    }
  }
  &.G {
    .torso,
    .head,
    .leg {
      background-color: #19430e;
    }
   .rear {
      background-color: #296b17;
      border: 3px solid black;
      left: 2px;
    }
  }
  &.F {
    display: block;
    .torso,
    .head {
      background-color: #f98354;
    }
    .antenna,
    .leg,
    .rear {
      background-color: #853f24;
    }
  }
  &.C {
    display: block;
    .torso,
    .head {
      background-color: #bda55d;
    }
    .head {
      border: 3px solid #544f00;
      left: 7px;
      top: -5px;
    }
    .torso {
      left: 18px;
      border: 2px solid #544f00;
    }
    .antenna,
    .rear {
      background-color: #544f00;
    }
  }
  &.pick {
    .head {
      top: 8px;
      left: 20px;
      --r1: 90deg;
      --r2: 80deg;
      animation: rot .5s linear infinite;
    }
    .rear {
      top: 64px;
      left: 20px;
      --r1: -170deg;
      --r2: -180deg;
      animation: rot .5s linear infinite;
    }
    .legs-l  {
      left: 10px;
      --r1: 80deg;
      --r2: 95deg;
      animation: rot .3s linear infinite;
    }
    .legs-r  {
      --r1: -85deg;
      --r2: -92deg;
      animation: rot .6s linear infinite;
    }
  }
  &.side {
    .antenna:last-child {
      left: -26px;
      top: -12px;
      transform: rotate(-115deg);
    }
    .legs-l  {
      transform: rotate(90deg);
      left: 8px;
      top: 13px;
      .foot {
        transform: rotate(90deg);
        margin-top: -9px;
        margin-left: 2px;
        width: 10px;
      }
      .leg {
        position: relative;
        height: 7px;
        transform: rotate(-10deg);
        &:first-child {
          transform: rotate(-120deg);
          top: 3px;
          height: 14px;
          .foot {
            transform: rotate(0);
            margin-top: 0;
            margin-left: 0;
            width: 20px;
          }
        }
        &:last-child {
          transform: rotate(120deg);
          top: 3px;
          height: 14px;
          .foot {
            transform: rotate(180deg);
            margin-top: 0;
            margin-left: 0;
            width: 20px;
          }
        }
      }
    }
    .legs-r {
      transform: rotate(90deg);
      left: 9px;
      top: 13px;
      .foot {
        width: 10px;
        transform: rotate(90deg);
        margin-top: -9px;
        margin-left: 1px;
      }
      .leg {
        position: relative;
        height: 7px;
        top: -4px;
        transform: rotate(10deg);
        &:first-child {
          transform: rotate(-110deg);
          top: 3px;
          height: 14px;
          .foot {
            transform: rotate(0);
            margin-top: 0;
            margin-left: 0;
            width: 20px;
          }
        }
        &:last-child {
          transform: rotate(110deg);
          top: 3px;
          height: 14px;
          .foot {
            transform: rotate(180deg);
            width: 20px;
            margin-top: -3px;
            margin-left: 3px;
          }
        }
      }
    }
  }
}

.spot {
  opacity: 0;
  border-radius: 50%;
  background: white;
  transition: .5s all;
  width: 40px;
  height: 40px;
  position: absolute;
  top: -10px;
  left: -16px;
}

.head {
  position: absolute;
  width: 30px;
  height: 30px;
  background-color: black;
  border-radius: 50%;
  top: 0;
  left: 5px;
  transform-origin: center;
  --r1: 5deg;
  --r2: -5deg;
  animation: rot 2s linear infinite;
}

.torso {
  position: absolute;
  width: 20px;
  height: 40px;
  background-color: black;
  border-radius: 40% 50%;
  top: 30px;
  left: 10px;
}

.rear {
  position: absolute;
  width: 30px;
  height: 30px;
  background-color: black;
  border-radius: 50%;
  transform: rotate(-135deg);
  top: 70px;
  left: 5px;
  border-top-left-radius: 0;
}

.antenna {
  position: absolute;
  top: 0;
  left: 0;
  width: 40px;
  height: 2px;
  background-color: black;
  border-radius: 2px;
  &:first-child {
    left: -16px;
    top: -12px;
    transform: rotate(-100deg);
  }
  &:last-child {
    left: 8px;
    top: -12px;
    transform: rotate(-80deg);
  }
}

.foot {
  height: 2px;
  width: 20px;
  background-color: black;
  position: absolute;
  left: 0;
  top: 0;
  border-radius: 2px;
}

.legs {
  position: absolute;
  width: 33px;
  font-size: 0;
  margin-left: -6.5px;
  top: 12px;
  .leg {
    width: 3px;
    height: 15px;
    background-color: black;
    border-radius: 2px;
    display: inline-block;
    margin: 0 4px;
  }
  &.legs-l {
    left: -16px;
    transform: rotate(-90deg);
    .leg {
      &:first-child {
        transform: rotate(-20deg);
        .foot {
          transform: rotate(-140deg);
          margin-top: 2px;
          margin-left: 1px;
        }
      }
      &:last-child {
        transform: rotate(20deg);
        .foot {
          transform: rotate(-40deg);
          margin-top: 0;
          margin-left: 1px;
        }
      }
    }
    .foot {
      transform: rotate(-110deg);
      transform-origin: top left;
      margin-top: 3px;
      margin-left: 16px;
    }
  }
  &.legs-r {
    left: 16px;
    transform: rotate(-90deg);
    .leg {
      &:first-child {
        transform: rotate(20deg);
        .foot {
          transform: rotate(140deg);
          margin-top: 10px;
          margin-left: 2px;
        }
      }
      &:last-child {
        transform: rotate(-20deg);
        .foot {
          transform: rotate(40deg);
          margin-top: 12px;
          margin-left: 0;
        }
      }
    }
    .foot {
      transform-origin: bottom left;
      transform: rotate(110deg);
      margin-top: 12px;
      margin-left: 16px;
    }
  }
}

.walk {
  .legs-l {
    .leg {
      --r1: -10deg;
      --r2: 10deg;
      animation: rot .3s linear infinite;
      &:first-child {
        --r1: -120deg;
        --r2: -100deg;
        animation: rot .3s linear infinite;
      }
      &:last-child {
        --r1: 120deg;
        --r2: 100deg;
        animation: rot .3s linear infinite;
      }
    }
  }
  .legs-r {
    .leg {
      --r1: 10deg;
      --r2: -10deg;
      animation: rot .3s linear infinite;
      &:first-child {
        --r1: -90deg;
        --r2: -120deg;
        animation: rot .3s linear infinite;
      }
      &:last-child {
        --r1: 90deg;
        --r2: 110deg;
        animation: rot .3s linear infinite;
      }
    }
  }
}

@keyframes trns {
  0% { transform: var(--t1) }
  50% { transform: var(--t2) }
  100% { transform: var(--t1) }
}

.crawl {
  .foot {
    animation: trns .3s linear infinite;
  }
  .legs-l {
    .foot {
      --t1: rotate(-130deg);
      --t2: rotate(-110deg);
    }
    .leg:last-child .foot {
      --t1: rotate(-40deg);
      --t2: rotate(-30deg) scale(.5, 1);
    }
    .leg:first-child .foot {
      --t1: rotate(-140deg) scale(.5, 1);
      --t2: rotate(-130deg);
    }
  }
  .legs-r {
    .foot {
      --t1: rotate(110deg);
      --t2: rotate(130deg);
    }
    .leg:last-child .foot {
      --t1: rotate(40deg) scale(.5, 1);
      --t2: rotate(30deg);
    }
    .leg:first-child .foot {
      --t1: rotate(140deg);
      --t2: rotate(130deg) scale(.5, 1);
    }
  }
  .rear {
    --r1: -137deg;
    --r2: -133deg;
    animation: rot .5s linear infinite;
  }
}

@keyframes dig {
  0% { transform: rotate(var(--d1)) }
  20% { transform: rotate(var(--d2)) }
  30% { transform: rotate(var(--d3)) }
  90% { transform: rotate(var(--d4)) }
  100% { transform: rotate(var(--d1)) }
}

.dig {
  .body-wrap {
    margin-top: 30px;
    --d1: 0;
    --d2: -5deg;
    --d3: -4deg;
    --d4: -3deg;
    animation: dig 3s linear infinite;
  }
  .head {
    --d1: 25deg;
    --d2: -15deg;
    --d3: -10deg;
    --d4: 20deg;
    animation: dig 2s linear infinite;
  }
  .legs-l .leg:first-child {
    --r1: -120deg;
    --r2: -100deg;
    animation: rot 1s linear infinite;
  }
  .legs-r .leg:first-child {
    --r1: -90deg;
    --r2: -120deg;
    animation: rot 1s linear infinite;
  }
  .rear {
    --d1: -135deg;
    --d2: -120deg;
    --d3: -132deg;
    --d4: -134deg;
    animation: dig 4s linear infinite;
  }
}

.s {
  width: 60px;
  height: 30px;
  .spot {
    top: -14px;
    left: -17px;
  }
  .head {
    width: 20px;
    height: 20px;
    left: 5px;
  }
  .torso {
    width: 15px;
    height: 20px;
    top: 20px;
    left: 7.5px;
  }
  .rear {
    top: 40px;
    width: 20px;
    height: 20px;
    left: 5px;
  }
  .antenna {
    width: 20px;
    &:first-child {
      left: -6px;
      top: -8px;
      transform: rotate(-100deg);
    }
    &:last-child {
      left: 6px;
      top: -8px;
      transform: rotate(-80deg);
    }
  }
  .legs {
    width: 28px;
    margin-left: -5px;
    top: -1px;
    .leg {
      margin: 0 2px;
    }
    &.legs-l {
      left: -12px;
    }
    &.legs-r {
      left: 10px;

    }
    .foot {
      margin-left: 10px;
      height: 1px;
      width: 10px;
    }
  }
  &.pick {
    .head {
      left: 16px;
    }
    .rear {
      top: 36px;
      left: 12px;
    }
    .legs-l  {
      transform: rotate(90deg);
      left: 10px;
      top: 10px;
    }
  }
  &.side {
    .antenna:last-child {
      left: -10px;
      top: -6px;
      transform: rotate(-115deg);
    }
    .legs {
      left: 6px;
      top: 10px;
    }
    .legs-l {
      .foot {
        width: 5px;
        margin-top: -5px;
      }
      .leg {
        height: 4px;
        &:first-child {
          height: 7px;
          .foot {
            width: 12px;
          }
        }
        &:last-child {
          height: 7px;
          .foot {
            width: 12px;
            margin-left: 1px;
          }
        }
      }
    }
    .legs-r {
      left: 0;
      .foot {
        width: 5px;
        margin-top: -5px;
      }
      .leg {
        height: 4px;
        top: -8px;
        &:first-child {
          height: 7px;
          top: -4px;
          .foot {
            width: 12px;
          }
        }
        &:last-child {
          height: 7px;
          top: -4px;
          .foot {
            width: 12px;
            margin-left: 2px;
            margin-top: -1px;
          }
        }
      }
    }
  }
}

.l {
  width: 140px;
  height: 60px;
  .spot {
    top: -8px;
    left: -14px;
  }
  .head {
    width: 40px;
    height: 40px;
    left: 10px;
  }
  .torso {
    width: 20px;
    height: 40px;
    top: 40px;
    left: 20px;
  }
  .rear {
    top: 80px;
    width: 50px;
    height: 50px;
  }
  .antenna {
    width: 60px;
    &:first-child {
      left: -20px;
      top: -20px;
      transform: rotate(-100deg);
    }
    &:last-child {
      left: 0;
      top: -20px;
      transform: rotate(-80deg);
    }
  }
  .legs {
    margin-left: -6px;
    .foot {
      width: 30px;
    }
    .leg:last-child .foot,
    .leg:first-child .foot {
      width: 60px;
    }
  }
  &.side {
    .legs {
      left: 8px;
      top: 6px;
    }
    .legs-l {
      .foot {
        width: 25px;
        margin-top: -24px;
      }
      .leg {
        height: 16px;
        top: -14px;
        &:first-child {
          height: 28px;
          top: 0;
          .foot {
            width: 50px;
          }
        }
        &:last-child {
          height: 28px;
          top: 0;
          .foot {
            width: 50px;
          }
        }
      }
    }
    .legs-r {
      .foot {
        width: 25px;
        margin-top: -24px;
      }
      .leg {
        height: 16px;
        top: -14px;
        &:first-child {
          height: 28px;
          top: 0;
          .foot {
            width: 50px;
          }
        }
        &:last-child {
          height: 28px;
          top: 0;
          .foot {
            width: 50px;
          }
        }
      }
    }
    .antenna {
      &:last-child {
        left: -32px;
        transform: rotate(-115deg);
      }
    }
  }
}

@keyframes anger {
  from { filter: blur(30px); opacity: .6 }
  50% { filter: blur(24px); opacity: .4 }
  to { filter: blur(30px); opacity: .6 }
}

.fight .spot {
  background: #ff0000;
  opacity: .6;
  filter: blur(30px);
  animation: anger 2s infinite;
}

body.bit .ant {
  pointer-events: none;
}

.body {
  position: absolute;
  transform-origin: 0 0;
  pointer-events: none;
  transform: scale(.2) translate(-50%, -50%);
}

.rest .head {
  animation: rot 5s linear infinite;
}

@keyframes defeat {
  0% { transform: translateX(0) }
  20% { transform: translateY(-2px) }
  35% { transform: translateY(-2px) rotate(3deg) }
  55% { transform: translateY(-2px) rotate(-3deg) }
  65% { transform: translateY(-2px) rotate(3deg) }
  80% { transform: translateY(-2px) rotate(-3deg) }
  100% { transform: translateY(0) rotate(0) }
}

.defeat .body-wrap {
  animation: defeat 1s infinite;
}








/* Modal styles */

#modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 100;
  opacity: 0;
  transition: all .2s;
  pointer-events: none;
  &.vis {
    opacity: 1;
    pointer-events: initial;
  }
  input {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1.2em;
    display: block;
    margin: 0 auto;
    margin-bottom: 1em;
    width: 12em;
    text-align: center;
    text-transform: uppercase;
  }
}

#modal-close {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
}

#modal-content {
  background-color: #fff;
  width: 640px;
  margin: 0 auto;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, .2);
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  box-shadow: 0 0 48px 8px rgba(255, 255, 255, .5);
}









/* Bag and Drop modal styles */

#bag,
#drop {
  h3 {
    margin: .25em 0 0 0;
    color: #666;
  }
  h2 {
    color: #333;
  }
  h4 {
    margin: 0 0 .25em 0;
    color: #f1b362;
    font-weight: normal;
    font-size: .92em;
  }
  p {
    color: #999;
    margin-bottom: .5em;
    font-size: .92em;
  }
}

#drop {
  background: #fdefb2;
  padding-bottom: 1em;
}

#drop-img {
  display: inline-block;
  background: white;
  border-radius: 50%;
  margin: 0 0 1em 0;
  padding: 2em;
  svg, img {
    width: 256px;
    height: 256px;
  }
}

#bag-caption {
  height: 128px;
  position: relative;
  > div {
    display: none;
    opacity: 0;
    transition: .2s all;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
  }
  > .vis {
    opacity: 1;
    display: block;
  }
}

#drop-top {
  padding-top: .25em;
}

.bag-d {
  position: absolute;
  bottom: 0;
  right: 0;
  white-space: nowrap;
}

.d {
  cursor: pointer;
  border-radius: 18px;
  background: #ffffc6;
  height: 20px;
  width: 20px;
  padding: 8px;
  display: block;
  line-height: 20px;
  transition: width .5s ease;
  overflow: hidden;
  &.expand {
    width: 158px;
  }
  .err {
    font-size: .92em;
    display: inline-block;
    opacity: 0;
    transition: all .2s ease;
  }
  &.expand .err {
    opacity: 1;
  }
  &.waiting {
    pointer-events: none;
  }
  img {
    width: 20px;
    margin-top: -3px;
  }
  .wait {
    display: inline-block;
    width: 20px;
  }
  &:hover {
    background: #FFFF88;
  }
}

#drop-content,
#bag-items {
  border-radius: 6px;
  background: #ffb7ce;
  overflow-x: auto;
  padding: 20px;
  min-width: 300px;
  height: 256px;
  box-shadow: inset 1px 1px 6px 2px rgba(0, 0, 0, .1);
  flex-direction: column;
  align-items: flex-start;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  grid-template-rows: auto auto;
  white-space: nowrap;
  align-content: flex-start;
}

#bag-items {
  height: 296px;
  overflow-y: hidden;
  .bag-item {
    width: 128px;
    height: 128px;
    background: white;
    border-radius: 50%;
    margin: 0 20px 20px 0;
    outline: 4px solid transparent;
    transition: .3s all;
    cursor: pointer;
    flex: 1;
    position: relative;
    &.hover, &:hover {
      outline: 4px solid #ff69b4;
    }
    svg,
    img {
      width: 75%;
      max-height: 75%;
      top: 50%;
      position: absolute;
      transform: translate(-50%,-50%);
    }
    &.sticker img  {
      width: 33%;
      max-height: 33%;
    }
    &.plate img  {
      width: 90%;
      max-height: 90%;
      margin-left: 4px;
    }
    &.scenery img {
      width: 95%;
      max-height: 95%;
      margin-top: -4px;
    }
    &.scene-piece img {
      width: 85%;
      max-height: 85%;
      margin-top: -4px;
    }
    &.dirt img {
      width: 60%;
      max-height: 60%;
    }
    &.gel img,
    &.sand img {
      width: 66%;
      max-height: 66%;
    }
    &.card img {
      margin-left: -42px;
      margin-top: -8px;
      width: 66%;
      max-height: 66%;
    }
  }
  .trash img {
    width: 72%;
    max-height: 72%;
  }
}

#bag-items .bag-item.card img,
#drop #drop-img.card img {
  object-fit: scale-down;
  transform: scale(1.33) rotate(3deg);
}









/* Stats modal styles */

#stats {
  color: #666;
   a {
    margin-top: 0;
    text-decoration: none;
  }
  h3 {
    margin: .5em;
    margin-top: .25em;
  }
  .ach h3 {
    margin: 0;
  }
  h2 {
    display: block;
    width: 100%;
    float: left;
    color: #fff;
    position: relative;
    margin: 0;
    top: -.66em;
    text-align: center;
    z-index: 2;
    span {
      padding: .125em .5em;
      border-radius: 6px;
    }
  }
}

.stats {
  border-radius: 6px;
  padding: 20px 10px;
  box-shadow: inset 1px 1px 6px 2px rgba(0, 0, 0, .1);
}

#share {
  color: #fff;
  background: #bbb;
  padding: .25em 1em;
  margin-bottom: .5em;
  p {
    margin: .125em 0 .25em 0;
    font-size: .92em;
  }
  svg {
    position: relative;
    top: .25em;
  }
}

#credit {
  float: left;
  text-align: left;
  font-family: monospace;
  color: #999;
  width: 250px;
}

#resetButton {
  float: right;
  font-size: .75em;
  width: 190px;
  text-align: right;
}

#awards {
  background: #77c3ec;
  overflow-y: auto;
  overflow-x: hidden;
  height: 248px;
  width: 616px;
  display: grid;
  flex-direction: column;
  align-items: flex-start;
  align-content: flex-start;
  margin-bottom: .5em;
  flex-wrap: wrap;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: auto;
  gap: 10px;
  padding: 10px;
  position: relative;
  border: 2px solid #444;
  border-radius: 0;
}

#scores {
  background:#C4A484 url(../img/paper.png);
  height: 386px;
  padding-top: 32px;
}

#scores-wrapper, #awards-wrapper {
  position: relative;
  margin: 1.5em 0 .5em 0;
}

#scores-wrapper {
  height: 438px;
  h2 {
    font-size: 2.2em;
    color: rgba(0,0,0,.55);
    filter: blur(.4px);
    span {
      background: #C4A484 url(../img/paper.png);
      letter-spacing: 1px;
      display: inline-block;
      position: relative;
    }
  }
  h2 {
    font-size: 1.8em;
  }
  > div {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    text-align: left;
    overflow-x: auto;
  }
  h2 span:after,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 99%;
    background-image: url("../img/ink.jpg");
    mix-blend-mode: lighten;
    opacity: .8;
    border-radius: 6px;
    z-index: 50;
  }
}

#awards-wrapper {
  margin-top: 0;
  h2 {
    background: #444;
    border-top-left-radius: 40px;
    border-top-right-radius: 40px;
    position: static;
    border: 8px double #77c3ec;
    font-family: Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black",sans-serif;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: normal;
    width: 624px;
    span {
      padding: 0;
      line-height: 1em;
      padding: .25em;
    }
  }
}

#scoreHead {
  z-index: 10;
  font-family: monospace;
  font-weight: bold;
  padding: 1.4em;
  font-size: 1.em;
  text-transform: uppercase;
  color: rgba(0,0,0,.55);
  filter: blur(.4px);
  transform: rotate(-.4deg);
  top: -1px;
  .date {
    float: right;
    margin-right: 1.6em;
  }
}

.F-stats {
  background: rgba(248, 206, 167, .1);
  position: relative;
  width: 280px;
  text-align: left;
  padding-bottom: .5em;
  display: inline-block;
  margin: 10px;
  color: rgba(25,68,110,.85);
  .stat {
    padding-left: 1em;
    font-size: .92em;
    span {
      font-family: monospace;
      font-size: 1.2em;
    }
    b {
      display: inline-block;
      width: 94px;
      text-align: right;
      margin-right: .25em;
    }
  }
}

.F-id {
  font-size: 2em;
  position: absolute;
  top: 0;
  left: 0;
  transform: rotate(15deg);
  font-weight: bold;
  color: rgba(0,0,0,.5);
  margin-left: .25em;
  filter: blur(.6px);
}

.F-n {
  font-size: 1.2em;
  font-weight: bold;
  padding: .5em 0;
  text-align: center;
}

.ach {
  background: #fff;
  border-radius: 6px;
  border-top-left-radius: 25px;
  height: 109px;
  .icon {
    font-size: 1.8em;
    line-height: 1.8em;
    float: left;
    width: 50px;
    height: 50px;
    text-align: center;
    background: #ccc;
    border-radius: 50%;
    outline: 6px solid #fff;
  }
  &.ach-sac, &.ach-scene {
    .icon {
      line-height: 1.6em;
    }
  }
  .caption {
    margin-left: 56px;
  }
  p {
    margin: 0;
    font-size: .72em;
    height: 2.4em;
    line-height: 1.2em;
    margin: 2px 0;
  }
  .sub {
    text-align: center;
    color: #aaa;
    margin: 3px 0 2px 0;
    height: 1.2em;
  }
}

.levels {
  width: 60%;
  margin: 0 auto;
  padding-top: 3px;
  .medal  {
    width: 33.33%;
    text-align: center;
    display: inline-block;
    font-family: Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", sans-serif;
    span {
      font-size: 1.2em;
      border-radius: 50%;
      line-height: 26px;
      width: 26px;
      height: 26px;
      display: inline-block;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, .2);
    }
  }
  .l-3 {
    background: #8a5303;
    outline: 2px solid #fbd59f;
    color: #fbd59f;
  }
  .l-6 {
    background: #595959;
    outline: 2px solid #d8d8d8;
    color: #d8d8d8;
  }
  .l-9 {
    background: #806401;
    outline: 2px solid #f9d29c;
    color: #f9d29c;
  }
}

.lvl-wrap {
  background: #f3f3f3;
  border-radius: 5px;
  margin: 0 6px 4px 6px;
  padding: 2px 0 0 0;
}

.ach-lvl-0 {
  opacity: .25;
  filter: saturate(0);
}

.no-ach {
  position: absolute;
  top: 1.6em;
  right: 0;
  left: 0;
  text-align: center;
  color: #fff;
  font-size: 1.1em;
}

#volume {
  float: right;
  font-size: .9em;
}

#modal #vol {
  width: 50px;
  display: inline-block;
  margin: .25em 0 0 0;
  padding: 0;
  position: relative;
  top: .22em;
}









/* Spill styles */

#spill {
  pointer-events: none;
  .hill {
    border-radius: 50%;
    width: 200%;
    bottom: -250px;
    height: 500px;
    position: absolute;
    z-index: 0;
    left: -30%;
    filter: blur(50px);
  }
}









/* Feeder styles */

/*
<div id="fdr">
  <div class="fdr-g">
    <div class="fdr-gi">
      <div class="fdr-l">
      </div>
    </div>
  </div>
  <div class="fdr-r"></div>
  <div class="fdr-b"></div>
</div>
*/

.fdr-g {
  width: 70px;
  height: 80px;
  border-radius: 10px;
  background-color: rgba(140, 240, 240, .5);
  margin-left: 25px;
  margin-bottom: -10px;
  padding-top: 1px;
}

.fdr-gi {
  width: 64px;
  height: 74px;
  margin: 2px;
  margin-bottom: 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  position: relative;
}

.fdr-r {
  border-bottom: 2px solid #aaa;
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	height: 0;
	width: 70px;
  margin-left: 20px;
  position: relative;
  z-index: 2;
}

.fdr-b {
  border-bottom: 10px solid #ccc;
	border-left: 10px solid transparent;
	border-right: 10px solid transparent;
	height: 0;
	width: 100px;
  position: relative;
  z-index: 2;
}

.fdr-l {
  width: 62px;
  height: 34px;
  margin: 1px;
  margin-bottom: 0;
  border-radius: 3px;
  background-color: rgba(240, 40, 40, .25);
  position: absolute;
  bottom: 0;
}

